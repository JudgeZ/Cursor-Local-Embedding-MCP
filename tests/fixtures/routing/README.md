# Routing Fixtures

Deterministic routing fixtures generated by `scripts/routing_matrix.py` live in
this directory. The assets model a small five-node topology and provide
high-fan-out corpora that mirror the scenarios covered by the unit tests.【F:scripts/routing_matrix.py†L52-L126】

## Generation commands

| Command | Required CLI flags | Produces | Dependencies / config |
| --- | --- | --- | --- |
| `python scripts/routing_matrix.py matrix` | `--output tests/fixtures/routing/multi-repo-matrix.json` | Multi-repository routing adjacency matrix used by unit tests.【F:scripts/routing_matrix.py†L140-L163】 | Requires Python 3.11 and Typer. Run prior to other subcommands so downstream assets share topology. |
| `python scripts/routing_matrix.py latency` | `--output tests/fixtures/routing/latency-matrix.json` | Hop-level latency expectations consumed by governance checks.【F:scripts/routing_matrix.py†L166-L184】 | Shares the same node/edge set as the adjacency matrix. |
| `python scripts/routing_matrix.py fanout` | `--output-dir tests/fixtures/routing/high-fanout/ --metrics-output tests/fixtures/routing/fanout-metrics.json` | High fan-out corpora and aggregate throughput metrics referenced by performance tests.【F:scripts/routing_matrix.py†L187-L233】 | The command seeds JSONL files in `high-fanout/` and writes `fanout-metrics.json` for bundle assembly. |

After regenerating these fixtures run `python scripts/fixture_packager.py build --output tests/fixtures/shared/` followed by `python scripts/fixture_packager.py validate tests/fixtures/shared/` to refresh the shared routing bundle consumed by downstream tests.【F:scripts/fixture_packager.py†L102-L142】
