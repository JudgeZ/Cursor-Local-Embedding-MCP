{
  "language": "python",
  "transport": "tls",
  "fixtures": {
    "request": "tests/fixtures/python/tls/request.json",
    "response": "tests/fixtures/python/tls/response.json"
  },
  "conversation": [
    {
      "direction": "client",
      "envelope": {
        "jsonrpc": "2.0",
        "id": 1,
        "method": "mcp.initialize",
        "params": {
          "transport": {
            "kind": "tls",
            "endpoint": "https://localhost:9443/mcp",
            "sni": "localhost",
            "ca_bundle": "tests/certs/root-ca.pem"
          },
          "client": {
            "name": "zaevrynth-python-client",
            "language": "python",
            "version": "0.1.0"
          },
          "capabilities": [
            "handshake",
            "ping",
            "capabilities"
          ]
        },
        "meta": {
          "timestamp": "2024-01-15T08:10:00Z",
          "sequence": 1
        }
      }
    },
    {
      "direction": "server",
      "envelope": {
        "jsonrpc": "2.0",
        "id": 1,
        "result": {
          "session": {
            "id": "python-tls-session",
            "transport": "tls",
            "server_version": "0.1.0",
            "alpn": "h2"
          },
          "heartbeat_interval_ms": 3000,
          "peer_certificate": {
            "subject": "CN=localhost",
            "fingerprint": "AB:CD:EF:01"
          }
        },
        "meta": {
          "timestamp": "2024-01-15T08:10:00Z",
          "sequence": 1
        }
      }
    },
    {
      "direction": "client",
      "envelope": {
        "jsonrpc": "2.0",
        "id": 2,
        "method": "mcp.ping",
        "params": {
          "transport": "tls",
          "session_id": "python-tls-session",
          "sequence": 7
        },
        "meta": {
          "timestamp": "2024-01-15T08:10:01Z",
          "sequence": 2
        }
      }
    },
    {
      "direction": "server",
      "envelope": {
        "jsonrpc": "2.0",
        "id": 2,
        "result": {
          "ok": true,
          "latency_ms": 22,
          "sequence": 7
        },
        "meta": {
          "timestamp": "2024-01-15T08:10:01Z",
          "sequence": 2
        }
      }
    },
    {
      "direction": "client",
      "envelope": {
        "jsonrpc": "2.0",
        "id": 3,
        "method": "mcp.capabilities",
        "params": {
          "requested": [
            "prompts",
            "resources",
            "tools"
          ],
          "session_id": "python-tls-session"
        },
        "meta": {
          "timestamp": "2024-01-15T08:10:02Z",
          "sequence": 3
        }
      }
    },
    {
      "direction": "server",
      "envelope": {
        "jsonrpc": "2.0",
        "id": 3,
        "result": {
          "prompts": [
            "summarize",
            "rewrite"
          ],
          "resources": [
            "vector-store"
          ],
          "tools": [
            "search"
          ],
          "transport": {
            "kind": "tls",
            "modes": [
              "mutual",
              "server"
            ]
          }
        },
        "meta": {
          "timestamp": "2024-01-15T08:10:02Z",
          "sequence": 3
        }
      }
    }
  ]
}
